# 🔄 标准工作流程：本地 → GitHub → Vercel

这是推荐的标准开发和部署流程。

---

## 📋 工作流程概览

```
本地修改 → Git 提交 → 推送到 GitHub → Vercel 自动部署
   ↓           ↓            ↓                ↓
  编辑       commit        push          自动更新
```

---

## 🎯 第一次设置（只需做一次）

### 步骤 1: 创建 GitHub 仓库

1. 访问 https://github.com/new
2. 填写信息：
   - Repository name: `czx-dashboard`
   - Description: `橙子学数据看板`
   - 选择 `Public` 或 `Private`
   - **不要**勾选 "Initialize this repository with a README"
3. 点击 "Create repository"

### 步骤 2: 连接本地仓库到 GitHub

如果之前的仓库不存在了，重新设置远程仓库：

```bash
# 移除旧的远程仓库（如果有）
git remote remove origin

# 添加新的远程仓库（替换成你的仓库地址）
git remote add origin https://github.com/你的用户名/czx-dashboard.git

# 验证
git remote -v
```

### 步骤 3: 首次推送

```bash
# 推送到 GitHub
git push -u origin main
```

**如果遇到网络问题**，可以尝试：
- 使用 GitHub Desktop（图形界面，更稳定）
- 或者稍后重试

### 步骤 4: 连接 Vercel

1. 访问 https://vercel.com/
2. 点击 "Add New..." → "Project"
3. 选择 "Import Git Repository"
4. 找到你的 `czx-dashboard` 仓库
5. 点击 "Import"
6. 配置项目：
   - Framework Preset: `Other`
   - Root Directory: `./`
   - Build Command: 留空
   - Output Directory: 留空
7. 点击 "Deploy"

完成！Vercel 会自动部署，并给你一个访问地址。

---

## 🔄 日常工作流程

### 1. 本地修改

编辑你想修改的文件，比如：
- 更新 CSV 数据文件
- 修改样式（dashboard.css）
- 调整功能（dashboard.js）
- 更新文档

### 2. 测试修改

```bash
# 启动本地服务器
python -m http.server 8000

# 或双击
启动本地服务器.bat
```

在浏览器中测试：http://localhost:8000

### 3. 提交到 Git

```bash
# 查看修改了哪些文件
git status

# 添加所有修改
git add .

# 提交（写清楚改了什么）
git commit -m "更新搜索数据看板的CSV文件"

# 或者更详细的提交信息
git commit -m "修复搜索数据显示问题

- 更新第8周搜索词数据
- 修复转化率计算错误
- 优化图表显示效果"
```

### 4. 推送到 GitHub

```bash
git push
```

### 5. 自动部署

推送成功后，Vercel 会自动：
1. 检测到 GitHub 有新提交
2. 自动开始部署
3. 几秒钟后部署完成
4. 网站自动更新

你可以在 Vercel 控制台查看部署状态：https://vercel.com/dashboard

---

## 📝 常用 Git 命令

### 查看状态
```bash
# 查看哪些文件被修改了
git status

# 查看具体修改了什么内容
git diff

# 查看提交历史
git log --oneline -10
```

### 提交修改
```bash
# 添加所有修改
git add .

# 添加特定文件
git add index.html dashboard.css

# 提交
git commit -m "提交说明"

# 推送
git push
```

### 撤销修改
```bash
# 撤销工作区的修改（还没 add）
git restore 文件名

# 撤销暂存区的修改（已经 add 但还没 commit）
git restore --staged 文件名

# 撤销最后一次提交（保留修改）
git reset --soft HEAD~1

# 撤销最后一次提交（丢弃修改）
git reset --hard HEAD~1
```

---

## 🎨 推荐的提交信息格式

### 简单格式
```bash
git commit -m "更新搜索数据"
git commit -m "修复样式问题"
git commit -m "添加新功能"
```

### 详细格式
```bash
git commit -m "更新搜索数据看板

- 添加第9周搜索词数据
- 更新转化率趋势图
- 修复词云图显示问题"
```

### 类型前缀（可选）
```bash
git commit -m "feat: 添加数据导出功能"
git commit -m "fix: 修复图表显示错误"
git commit -m "docs: 更新使用文档"
git commit -m "style: 优化页面样式"
git commit -m "data: 更新CSV数据文件"
```

---

## 🔍 使用 GitHub Desktop（推荐新手）

如果不习惯命令行，可以使用 GitHub Desktop：

### 安装
1. 下载：https://desktop.github.com/
2. 安装并登录 GitHub 账号
3. 添加本地仓库：File → Add Local Repository

### 日常使用
1. **查看修改**：左侧会显示所有修改的文件
2. **提交**：
   - 勾选要提交的文件
   - 填写提交说明
   - 点击 "Commit to main"
3. **推送**：点击顶部的 "Push origin"
4. **完成**：Vercel 会自动部署

---

## 🚀 完整示例：更新数据

假设你要更新搜索数据：

```bash
# 1. 替换 CSV 文件
# 手动替换：搜索数据看板（周度）/第9周搜索词.csv

# 2. 本地测试
python -m http.server 8000
# 在浏览器中测试：http://localhost:8000

# 3. 提交到 Git
git add "搜索数据看板（周度）/第9周搜索词.csv"
git commit -m "更新第9周搜索数据"

# 4. 推送到 GitHub
git push

# 5. 等待 Vercel 自动部署（约 30 秒）
# 访问你的 Vercel 网址查看更新
```

---

## ⚡ 快速命令（复制粘贴）

### 每次修改后执行
```bash
# 查看修改
git status

# 提交所有修改
git add .
git commit -m "更新数据和样式"

# 推送
git push
```

### 一行命令（适合小修改）
```bash
git add . && git commit -m "快速更新" && git push
```

---

## 🔧 解决推送问题

### 问题1: 网络连接失败
```bash
# 方法1: 使用 GitHub Desktop（更稳定）

# 方法2: 配置代理（如果有）
git config --global http.proxy http://127.0.0.1:7890
git config --global https.proxy http://127.0.0.1:7890

# 方法3: 使用 SSH 而不是 HTTPS
# 需要先配置 SSH key
```

### 问题2: 推送被拒绝
```bash
# 先拉取远程更新
git pull --rebase

# 再推送
git push
```

### 问题3: 冲突
```bash
# 查看冲突文件
git status

# 手动解决冲突后
git add .
git commit -m "解决冲突"
git push
```

---

## 📊 Vercel 部署状态

### 查看部署
1. 访问 https://vercel.com/dashboard
2. 找到你的项目
3. 查看 "Deployments" 标签

### 部署状态
- 🟡 Building: 正在构建
- 🟢 Ready: 部署成功
- 🔴 Error: 部署失败

### 查看日志
点击具体的部署 → "View Function Logs"

---

## 🎯 最佳实践

### 1. 经常提交
- 不要等到改了很多才提交
- 每完成一个小功能就提交一次
- 提交信息要清楚

### 2. 推送前测试
- 本地测试确认没问题再推送
- 避免推送有问题的代码

### 3. 写清楚提交信息
- 好的：`更新第8周搜索数据，修复转化率计算`
- 不好的：`更新`、`修改`、`fix`

### 4. 定期备份
- GitHub 本身就是备份
- 重要修改前可以创建分支

### 5. 使用 .gitignore
- 不要提交临时文件
- 不要提交敏感信息（API key 等）

---

## 📚 学习资源

### Git 基础
- Git 官方教程：https://git-scm.com/book/zh/v2
- GitHub 入门：https://docs.github.com/cn/get-started

### GitHub Desktop
- 官方文档：https://docs.github.com/cn/desktop

### Vercel
- 官方文档：https://vercel.com/docs

---

## ✅ 检查清单

设置完成后，确认这些都正常：

- [ ] GitHub 仓库已创建
- [ ] 本地仓库已连接到 GitHub
- [ ] 能成功推送到 GitHub
- [ ] Vercel 已连接到 GitHub 仓库
- [ ] Vercel 能自动部署
- [ ] 部署后的网站能正常访问

全部打勾？完美！🎉

---

## 🆘 需要帮助？

如果遇到问题：
1. 查看错误信息（截图）
2. 检查网络连接
3. 尝试使用 GitHub Desktop
4. 查看本文档的"解决推送问题"部分

---

**现在你可以开始标准的开发流程了！** 🚀

修改 → 测试 → 提交 → 推送 → 自动部署
