{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{testDeepSeekAPI,testDataAnalysis}from'../utils/testAPI';import'./AIAnalysis.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AIAnalysis=_ref=>{let{currentData,allData,selectedMonth}=_ref;const[analysis,setAnalysis]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[testResult,setTestResult]=useState(null);useEffect(()=>{if(currentData&&allData.length>0){generateAnalysis();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentData,selectedMonth]);const testAPI=async()=>{const apiKey=process.env.REACT_APP_API_KEY;if(!apiKey||apiKey==='sk-your-actual-deepseek-api-key-here'){setTestResult({success:false,message:'ËØ∑ÂÖàÂú®.envÊñá‰ª∂‰∏≠ÈÖçÁΩÆÊúâÊïàÁöÑAPIÂØÜÈí•'});return;}setLoading(true);setTestResult(null);try{// Âü∫Á°ÄËøûÊé•ÊµãËØï\nconsole.log('üîç ÂºÄÂßãAPIÊµãËØï...');const basicTest=await testDeepSeekAPI(apiKey);if(basicTest.success){// Êï∞ÊçÆÂàÜÊûêÂäüËÉΩÊµãËØï\nconst analysisTest=await testDataAnalysis(apiKey,currentData);setTestResult(analysisTest);}else{setTestResult(basicTest);}}catch(error){setTestResult({success:false,message:'ÊµãËØïËøáÁ®ã‰∏≠ÂèëÁîüÈîôËØØ',error:error.message});}finally{setLoading(false);}};const generateAnalysis=async()=>{setLoading(true);setError('');try{// ÂáÜÂ§áÂàÜÊûêÊï∞ÊçÆ\nconst[currentYear,currentMonth]=selectedMonth.split('-').map(Number);// Ëé∑ÂèñÊúÄËøë3‰∏™ÊúàÊï∞ÊçÆÁî®‰∫éË∂ãÂäøÂàÜÊûê\nconst currentIndex=allData.findIndex(row=>row.Âπ¥‰ªΩ===currentYear&&row.Êúà‰ªΩ===currentMonth);const recentData=allData.slice(Math.max(0,currentIndex-2),currentIndex+1);// Ëé∑Âèñ‰∏äÊúàÂíåÂéªÂπ¥ÂêåÊúüÊï∞ÊçÆ\nconst lastMonthData=allData.find(row=>{if(currentMonth===1){return row.Âπ¥‰ªΩ===currentYear-1&&row.Êúà‰ªΩ===12;}return row.Âπ¥‰ªΩ===currentYear&&row.Êúà‰ªΩ===currentMonth-1;});const lastYearData=allData.find(row=>row.Âπ¥‰ªΩ===currentYear-1&&row.Êúà‰ªΩ===currentMonth);// ÊûÑÂª∫ÂàÜÊûêÊèêÁ§∫ËØç\nconst prompt=\"\\n\\u4F5C\\u4E3A\\u6570\\u636E\\u5206\\u6790\\u4E13\\u5BB6\\uFF0C\\u8BF7\\u5206\\u6790\\u4EE5\\u4E0B\\u6708\\u5EA6\\u6838\\u5FC3\\u6570\\u636E\\uFF1A\\n\\n\\u5F53\\u524D\\u6708\\u4EFD\\uFF1A\".concat(currentYear+2000,\"\\u5E74\").concat(currentMonth,\"\\u6708\\n\\u5F53\\u524D\\u6570\\u636E\\uFF1A\\n- \\u6708\\u6D3B\\uFF1A\").concat(currentData.ÊúàÊ¥ª.toLocaleString(),\"\\n- \\u6B21\\u6708\\u7559\\u5B58\\uFF1A\").concat(currentData.Ê¨°ÊúàÁïôÂ≠ò,\"%\\n- \\u8425\\u6536\\uFF1A\").concat(currentData.Ëê•Êî∂.toLocaleString(),\"\\n- \\u8BA2\\u5355\\uFF1A\").concat(currentData.ËÆ¢Âçï.toLocaleString(),\"\\n- ARPU\\uFF1A\").concat(currentData.ARPU,\"\\n- ARPPU\\uFF1A\").concat(currentData.ARPPU,\"\\n- \\u6DF1\\u5EA6\\u8BBF\\u95EE\\u7387\\uFF1A\").concat(currentData.Ê∑±Â∫¶ËÆøÈóÆÁéá,\"%\\n- \\u4F7F\\u7528\\u7387\\uFF1A\").concat(currentData.‰ΩøÁî®Áéá,\"%\\n- \\u5927\\u4F1A\\u5458\\u6D3B\\u8DC3\\u7387\\uFF1A\").concat(currentData.Â§ß‰ºöÂëòÊ¥ªË∑ÉÁéá,\"%\\n\\n\").concat(lastMonthData?\"\\u4E0A\\u6708\\u5BF9\\u6BD4\\uFF1A\\n- \\u6708\\u6D3B\\u73AF\\u6BD4\\uFF1A\".concat(((currentData.ÊúàÊ¥ª-lastMonthData.ÊúàÊ¥ª)/lastMonthData.ÊúàÊ¥ª*100).toFixed(2),\"%\\n- \\u8425\\u6536\\u73AF\\u6BD4\\uFF1A\").concat(((currentData.Ëê•Êî∂-lastMonthData.Ëê•Êî∂)/lastMonthData.Ëê•Êî∂*100).toFixed(2),\"%\\n- ARPU\\u73AF\\u6BD4\\uFF1A\").concat(((currentData.ARPU-lastMonthData.ARPU)/lastMonthData.ARPU*100).toFixed(2),\"%\"):'',\"\\n\\n\").concat(lastYearData?\"\\u53BB\\u5E74\\u540C\\u671F\\u5BF9\\u6BD4\\uFF1A\\n- \\u6708\\u6D3B\\u540C\\u6BD4\\uFF1A\".concat(((currentData.ÊúàÊ¥ª-lastYearData.ÊúàÊ¥ª)/lastYearData.ÊúàÊ¥ª*100).toFixed(2),\"%\\n- \\u8425\\u6536\\u540C\\u6BD4\\uFF1A\").concat(((currentData.Ëê•Êî∂-lastYearData.Ëê•Êî∂)/lastYearData.Ëê•Êî∂*100).toFixed(2),\"%\\n- ARPU\\u540C\\u6BD4\\uFF1A\").concat(((currentData.ARPU-lastYearData.ARPU)/lastYearData.ARPU*100).toFixed(2),\"%\"):'',\"\\n\\n\\u6700\\u8FD13\\u4E2A\\u6708\\u8D8B\\u52BF\\uFF1A\\n\").concat(recentData.map(row=>\"\".concat(row.Âπ¥‰ªΩ+2000,\"\\u5E74\").concat(row.Êúà‰ªΩ,\"\\u6708 - \\u6708\\u6D3B:\").concat(row.ÊúàÊ¥ª.toLocaleString(),\", \\u8425\\u6536:\").concat(row.Ëê•Êî∂.toLocaleString(),\", ARPU:\").concat(row.ARPU)).join('\\n'),\"\\n\\n\\u8BF7\\u4E25\\u683C\\u6309\\u7167\\u4EE5\\u4E0BJSON\\u683C\\u5F0F\\u8FD4\\u56DE\\u5206\\u6790\\u7ED3\\u679C\\uFF0C\\u4E0D\\u8981\\u5305\\u542B\\u4EFB\\u4F55\\u5176\\u4ED6\\u6587\\u5B57\\uFF1A\\n{\\n  \\\"keyChanges\\\": \\\"\\u5173\\u952E\\u53D8\\u5316\\u5206\\u6790\\u5185\\u5BB9\\uFF0850\\u5B57\\u4EE5\\u5185\\uFF09\\\",\\n  \\\"trends\\\": \\\"\\u589E\\u957F\\u8D8B\\u52BF\\u5206\\u6790\\u5185\\u5BB9\\uFF0850\\u5B57\\u4EE5\\u5185\\uFF09\\\", \\n  \\\"suggestions\\\": [\\\"\\u5EFA\\u8BAE1\\\", \\\"\\u5EFA\\u8BAE2\\\", \\\"\\u5EFA\\u8BAE3\\\"]\\n}\\n\");const response=await axios.post('https://api.deepseek.com/v1/chat/completions',{model:'deepseek-chat',messages:[{role:'user',content:prompt}],temperature:0.7,max_tokens:500},{headers:{'Authorization':\"Bearer \".concat(process.env.REACT_APP_API_KEY),'Content-Type':'application/json'}});const aiResponse=response.data.choices[0].message.content;try{// Â∞ùËØïËß£ÊûêJSONÂìçÂ∫î\nconst parsedResponse=JSON.parse(aiResponse);setAnalysis(parsedResponse);}catch(parseError){// Â¶ÇÊûúËß£ÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®Â§áÁî®ÂàÜÊûê\nconsole.warn('AIÂìçÂ∫îËß£ÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®Â§áÁî®ÂàÜÊûê');const fallbackAnalysis=generateFallbackAnalysis();setAnalysis(fallbackAnalysis);}}catch(err){console.error('AIÂàÜÊûêÂ§±Ë¥•:',err);setError('AIÂàÜÊûêÊúçÂä°ÊöÇÊó∂‰∏çÂèØÁî®ÔºåËØ∑Á®çÂêéÈáçËØï');// Êèê‰æõÂ§áÁî®ÂàÜÊûê\nconst fallbackAnalysis=generateFallbackAnalysis();setAnalysis(fallbackAnalysis);}finally{setLoading(false);}};const generateFallbackAnalysis=()=>{if(!currentData)return{keyChanges:'',trends:'',suggestions:[]};const[currentYear,currentMonth]=selectedMonth.split('-').map(Number);const lastMonthData=allData.find(row=>{if(currentMonth===1){return row.Âπ¥‰ªΩ===currentYear-1&&row.Êúà‰ªΩ===12;}return row.Âπ¥‰ªΩ===currentYear&&row.Êúà‰ªΩ===currentMonth-1;});let keyChanges=\"\\u672C\\u6708\\u6708\\u6D3B\".concat(currentData.ÊúàÊ¥ª.toLocaleString(),\"\\uFF0C\");let trends=\"\\u6570\\u636E\\u8868\\u73B0\";let suggestions=[];if(lastMonthData){const userChange=((currentData.ÊúàÊ¥ª-lastMonthData.ÊúàÊ¥ª)/lastMonthData.ÊúàÊ¥ª*100).toFixed(1);const revenueChange=((currentData.Ëê•Êî∂-lastMonthData.Ëê•Êî∂)/lastMonthData.Ëê•Êî∂*100).toFixed(1);keyChanges+=\"\\u73AF\\u6BD4\".concat(userChange>0?'Â¢ûÈïø':'‰∏ãÈôç').concat(Math.abs(userChange),\"%\\uFF0C\\u8425\\u6536\").concat(revenueChange>0?'Â¢ûÈïø':'‰∏ãÈôç').concat(Math.abs(revenueChange),\"%\");}if(currentData.Ê¨°ÊúàÁïôÂ≠ò>=40){trends+=\"\\u826F\\u597D\\uFF0C\\u7559\\u5B58\\u7387\".concat(currentData.Ê¨°ÊúàÁïôÂ≠ò,\"%\\uFF0C\\u4F7F\\u7528\\u7387\").concat(currentData.‰ΩøÁî®Áéá,\"%\");}else{trends+=\"\\u9700\\u5173\\u6CE8\\uFF0C\\u7559\\u5B58\\u7387\".concat(currentData.Ê¨°ÊúàÁïôÂ≠ò,\"%\\u504F\\u4F4E\");}suggestions=['Âä†Âº∫Áî®Êà∑Ê¥ªË∑ÉÂ∫¶ËøêËê•','‰ºòÂåñ‰∫ßÂìÅÂäüËÉΩ‰ΩìÈ™å','ÊèêÂçá‰ªòË¥πËΩ¨ÂåñÊïàÁéá'];return{keyChanges,trends,suggestions};};if(!currentData)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"ai-analysis\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ai-header\",children:\"AI \\u6570\\u636E\\u5206\\u6790\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-content\",children:[loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"AI\\u6B63\\u5728\\u5206\\u6790\\u6570\\u636E...\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"analysis-error\",children:/*#__PURE__*/_jsx(\"p\",{children:error})}),analysis&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"analysis-section-icon\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"analysis-section-title\",children:\"\\u6838\\u5FC3\\u8868\\u73B0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section-content\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u6D3B\\u8DC3\\u7528\\u6237\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'20px',fontWeight:'600',color:'#FF6B35',margin:'4px 0'},children:currentData.ÊúàÊ¥ª.toLocaleString()}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u8425\\u6536\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'20px',fontWeight:'600',color:'#FF6B35',margin:'4px 0'},children:[(currentData.Ëê•Êî∂/10000).toFixed(1),\"\\u4E07\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"analysis-section-icon\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"analysis-section-title\",children:\"\\u5173\\u952E\\u53D8\\u5316\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"analysis-section-content\",children:analysis.keyChanges||'ÊöÇÊó†Êï∞ÊçÆ'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-section-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"analysis-section-icon\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"analysis-section-title\",children:\"\\u7B56\\u7565\\u5EFA\\u8BAE\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"analysis-section-content\",children:Array.isArray(analysis.suggestions)?/*#__PURE__*/_jsx(\"ul\",{children:analysis.suggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"li\",{children:suggestion},index))}):/*#__PURE__*/_jsx(\"div\",{children:analysis.suggestions||'ÊöÇÊó†Âª∫ËÆÆ'})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:testAPI,disabled:loading,className:\"test-btn\",children:loading?'ÊµãËØï‰∏≠...':'üß™ ÊµãËØïAPI'}),/*#__PURE__*/_jsx(\"button\",{onClick:generateAnalysis,disabled:loading,className:\"refresh-btn\",children:loading?'ÂàÜÊûê‰∏≠...':'ü§ñ AIÂàÜÊûê'})]}),/*#__PURE__*/_jsx(\"span\",{className:\"analysis-note\",children:\"\\u7531 DeepSeek AI \\u63D0\\u4F9B\\u5206\\u6790\\u652F\\u6301\"})]}),testResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"test-result \".concat(testResult.success?'success':'error'),children:[/*#__PURE__*/_jsx(\"h4\",{children:testResult.success?'‚úÖ ÊµãËØïÊàêÂäü':'‚ùå ÊµãËØïÂ§±Ë¥•'}),/*#__PURE__*/_jsx(\"p\",{children:testResult.message}),testResult.data&&/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(testResult.data,null,2)}),testResult.rawResponse&&/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:\"\\u67E5\\u770B\\u539F\\u59CB\\u54CD\\u5E94\"}),/*#__PURE__*/_jsx(\"pre\",{children:testResult.rawResponse})]})]})]})});};export default AIAnalysis;","map":{"version":3,"names":["React","useState","useEffect","axios","testDeepSeekAPI","testDataAnalysis","jsx","_jsx","jsxs","_jsxs","AIAnalysis","_ref","currentData","allData","selectedMonth","analysis","setAnalysis","loading","setLoading","error","setError","testResult","setTestResult","length","generateAnalysis","testAPI","apiKey","process","env","REACT_APP_API_KEY","success","message","console","log","basicTest","analysisTest","currentYear","currentMonth","split","map","Number","currentIndex","findIndex","row","Âπ¥‰ªΩ","Êúà‰ªΩ","recentData","slice","Math","max","lastMonthData","find","lastYearData","prompt","concat","ÊúàÊ¥ª","toLocaleString","Ê¨°ÊúàÁïôÂ≠ò","Ëê•Êî∂","ËÆ¢Âçï","ARPU","ARPPU","Ê∑±Â∫¶ËÆøÈóÆÁéá","‰ΩøÁî®Áéá","Â§ß‰ºöÂëòÊ¥ªË∑ÉÁéá","toFixed","join","response","post","model","messages","role","content","temperature","max_tokens","headers","aiResponse","data","choices","parsedResponse","JSON","parse","parseError","warn","fallbackAnalysis","generateFallbackAnalysis","err","keyChanges","trends","suggestions","userChange","revenueChange","abs","className","children","style","fontSize","fontWeight","color","margin","Array","isArray","suggestion","index","onClick","disabled","stringify","rawResponse"],"sources":["E:/Ê©ôÂ≠êÂ≠¶Êï∞ÊçÆÁúãÊùø/ÊúàÊï∞ÊçÆÁúãÊùø/src/components/AIAnalysis.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { testDeepSeekAPI, testDataAnalysis } from '../utils/testAPI';\r\nimport './AIAnalysis.css';\r\n\r\nconst AIAnalysis = ({ currentData, allData, selectedMonth }) => {\r\n  const [analysis, setAnalysis] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [testResult, setTestResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (currentData && allData.length > 0) {\r\n      generateAnalysis();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentData, selectedMonth]);\r\n\r\n  const testAPI = async () => {\r\n    const apiKey = process.env.REACT_APP_API_KEY;\r\n    \r\n    if (!apiKey || apiKey === 'sk-your-actual-deepseek-api-key-here') {\r\n      setTestResult({\r\n        success: false,\r\n        message: 'ËØ∑ÂÖàÂú®.envÊñá‰ª∂‰∏≠ÈÖçÁΩÆÊúâÊïàÁöÑAPIÂØÜÈí•'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setTestResult(null);\r\n    \r\n    try {\r\n      // Âü∫Á°ÄËøûÊé•ÊµãËØï\r\n      console.log('üîç ÂºÄÂßãAPIÊµãËØï...');\r\n      const basicTest = await testDeepSeekAPI(apiKey);\r\n      \r\n      if (basicTest.success) {\r\n        // Êï∞ÊçÆÂàÜÊûêÂäüËÉΩÊµãËØï\r\n        const analysisTest = await testDataAnalysis(apiKey, currentData);\r\n        setTestResult(analysisTest);\r\n      } else {\r\n        setTestResult(basicTest);\r\n      }\r\n    } catch (error) {\r\n      setTestResult({\r\n        success: false,\r\n        message: 'ÊµãËØïËøáÁ®ã‰∏≠ÂèëÁîüÈîôËØØ',\r\n        error: error.message\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateAnalysis = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      // ÂáÜÂ§áÂàÜÊûêÊï∞ÊçÆ\r\n      const [currentYear, currentMonth] = selectedMonth.split('-').map(Number);\r\n      \r\n      // Ëé∑ÂèñÊúÄËøë3‰∏™ÊúàÊï∞ÊçÆÁî®‰∫éË∂ãÂäøÂàÜÊûê\r\n      const currentIndex = allData.findIndex(row => row.Âπ¥‰ªΩ === currentYear && row.Êúà‰ªΩ === currentMonth);\r\n      const recentData = allData.slice(Math.max(0, currentIndex - 2), currentIndex + 1);\r\n      \r\n      // Ëé∑Âèñ‰∏äÊúàÂíåÂéªÂπ¥ÂêåÊúüÊï∞ÊçÆ\r\n      const lastMonthData = allData.find(row => {\r\n        if (currentMonth === 1) {\r\n          return row.Âπ¥‰ªΩ === currentYear - 1 && row.Êúà‰ªΩ === 12;\r\n        }\r\n        return row.Âπ¥‰ªΩ === currentYear && row.Êúà‰ªΩ === currentMonth - 1;\r\n      });\r\n      \r\n      const lastYearData = allData.find(row => \r\n        row.Âπ¥‰ªΩ === currentYear - 1 && row.Êúà‰ªΩ === currentMonth\r\n      );\r\n\r\n      // ÊûÑÂª∫ÂàÜÊûêÊèêÁ§∫ËØç\r\n      const prompt = `\r\n‰Ωú‰∏∫Êï∞ÊçÆÂàÜÊûê‰∏ìÂÆ∂ÔºåËØ∑ÂàÜÊûê‰ª•‰∏ãÊúàÂ∫¶Ê†∏ÂøÉÊï∞ÊçÆÔºö\r\n\r\nÂΩìÂâçÊúà‰ªΩÔºö${currentYear + 2000}Âπ¥${currentMonth}Êúà\r\nÂΩìÂâçÊï∞ÊçÆÔºö\r\n- ÊúàÊ¥ªÔºö${currentData.ÊúàÊ¥ª.toLocaleString()}\r\n- Ê¨°ÊúàÁïôÂ≠òÔºö${currentData.Ê¨°ÊúàÁïôÂ≠ò}%\r\n- Ëê•Êî∂Ôºö${currentData.Ëê•Êî∂.toLocaleString()}\r\n- ËÆ¢ÂçïÔºö${currentData.ËÆ¢Âçï.toLocaleString()}\r\n- ARPUÔºö${currentData.ARPU}\r\n- ARPPUÔºö${currentData.ARPPU}\r\n- Ê∑±Â∫¶ËÆøÈóÆÁéáÔºö${currentData.Ê∑±Â∫¶ËÆøÈóÆÁéá}%\r\n- ‰ΩøÁî®ÁéáÔºö${currentData.‰ΩøÁî®Áéá}%\r\n- Â§ß‰ºöÂëòÊ¥ªË∑ÉÁéáÔºö${currentData.Â§ß‰ºöÂëòÊ¥ªË∑ÉÁéá}%\r\n\r\n${lastMonthData ? `‰∏äÊúàÂØπÊØîÔºö\r\n- ÊúàÊ¥ªÁéØÊØîÔºö${((currentData.ÊúàÊ¥ª - lastMonthData.ÊúàÊ¥ª) / lastMonthData.ÊúàÊ¥ª * 100).toFixed(2)}%\r\n- Ëê•Êî∂ÁéØÊØîÔºö${((currentData.Ëê•Êî∂ - lastMonthData.Ëê•Êî∂) / lastMonthData.Ëê•Êî∂ * 100).toFixed(2)}%\r\n- ARPUÁéØÊØîÔºö${((currentData.ARPU - lastMonthData.ARPU) / lastMonthData.ARPU * 100).toFixed(2)}%` : ''}\r\n\r\n${lastYearData ? `ÂéªÂπ¥ÂêåÊúüÂØπÊØîÔºö\r\n- ÊúàÊ¥ªÂêåÊØîÔºö${((currentData.ÊúàÊ¥ª - lastYearData.ÊúàÊ¥ª) / lastYearData.ÊúàÊ¥ª * 100).toFixed(2)}%\r\n- Ëê•Êî∂ÂêåÊØîÔºö${((currentData.Ëê•Êî∂ - lastYearData.Ëê•Êî∂) / lastYearData.Ëê•Êî∂ * 100).toFixed(2)}%\r\n- ARPUÂêåÊØîÔºö${((currentData.ARPU - lastYearData.ARPU) / lastYearData.ARPU * 100).toFixed(2)}%` : ''}\r\n\r\nÊúÄËøë3‰∏™ÊúàË∂ãÂäøÔºö\r\n${recentData.map(row => `${row.Âπ¥‰ªΩ + 2000}Âπ¥${row.Êúà‰ªΩ}Êúà - ÊúàÊ¥ª:${row.ÊúàÊ¥ª.toLocaleString()}, Ëê•Êî∂:${row.Ëê•Êî∂.toLocaleString()}, ARPU:${row.ARPU}`).join('\\n')}\r\n\r\nËØ∑‰∏•Ê†ºÊåâÁÖß‰ª•‰∏ãJSONÊ†ºÂºèËøîÂõûÂàÜÊûêÁªìÊûúÔºå‰∏çË¶ÅÂåÖÂê´‰ªª‰ΩïÂÖ∂‰ªñÊñáÂ≠óÔºö\r\n{\r\n  \"keyChanges\": \"ÂÖ≥ÈîÆÂèòÂåñÂàÜÊûêÂÜÖÂÆπÔºà50Â≠ó‰ª•ÂÜÖÔºâ\",\r\n  \"trends\": \"Â¢ûÈïøË∂ãÂäøÂàÜÊûêÂÜÖÂÆπÔºà50Â≠ó‰ª•ÂÜÖÔºâ\", \r\n  \"suggestions\": [\"Âª∫ËÆÆ1\", \"Âª∫ËÆÆ2\", \"Âª∫ËÆÆ3\"]\r\n}\r\n`;\r\n\r\n      const response = await axios.post('https://api.deepseek.com/v1/chat/completions', {\r\n        model: 'deepseek-chat',\r\n        messages: [\r\n          {\r\n            role: 'user',\r\n            content: prompt\r\n          }\r\n        ],\r\n        temperature: 0.7,\r\n        max_tokens: 500\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${process.env.REACT_APP_API_KEY}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      const aiResponse = response.data.choices[0].message.content;\r\n      \r\n      try {\r\n        // Â∞ùËØïËß£ÊûêJSONÂìçÂ∫î\r\n        const parsedResponse = JSON.parse(aiResponse);\r\n        setAnalysis(parsedResponse);\r\n      } catch (parseError) {\r\n        // Â¶ÇÊûúËß£ÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®Â§áÁî®ÂàÜÊûê\r\n        console.warn('AIÂìçÂ∫îËß£ÊûêÂ§±Ë¥•Ôºå‰ΩøÁî®Â§áÁî®ÂàÜÊûê');\r\n        const fallbackAnalysis = generateFallbackAnalysis();\r\n        setAnalysis(fallbackAnalysis);\r\n      }\r\n    } catch (err) {\r\n      console.error('AIÂàÜÊûêÂ§±Ë¥•:', err);\r\n      setError('AIÂàÜÊûêÊúçÂä°ÊöÇÊó∂‰∏çÂèØÁî®ÔºåËØ∑Á®çÂêéÈáçËØï');\r\n      \r\n      // Êèê‰æõÂ§áÁî®ÂàÜÊûê\r\n      const fallbackAnalysis = generateFallbackAnalysis();\r\n      setAnalysis(fallbackAnalysis);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateFallbackAnalysis = () => {\r\n    if (!currentData) return { keyChanges: '', trends: '', suggestions: [] };\r\n\r\n    const [currentYear, currentMonth] = selectedMonth.split('-').map(Number);\r\n    const lastMonthData = allData.find(row => {\r\n      if (currentMonth === 1) {\r\n        return row.Âπ¥‰ªΩ === currentYear - 1 && row.Êúà‰ªΩ === 12;\r\n      }\r\n      return row.Âπ¥‰ªΩ === currentYear && row.Êúà‰ªΩ === currentMonth - 1;\r\n    });\r\n\r\n    let keyChanges = `Êú¨ÊúàÊúàÊ¥ª${currentData.ÊúàÊ¥ª.toLocaleString()}Ôºå`;\r\n    let trends = `Êï∞ÊçÆË°®Áé∞`;\r\n    let suggestions = [];\r\n    \r\n    if (lastMonthData) {\r\n      const userChange = ((currentData.ÊúàÊ¥ª - lastMonthData.ÊúàÊ¥ª) / lastMonthData.ÊúàÊ¥ª * 100).toFixed(1);\r\n      const revenueChange = ((currentData.Ëê•Êî∂ - lastMonthData.Ëê•Êî∂) / lastMonthData.Ëê•Êî∂ * 100).toFixed(1);\r\n      \r\n      keyChanges += `ÁéØÊØî${userChange > 0 ? 'Â¢ûÈïø' : '‰∏ãÈôç'}${Math.abs(userChange)}%ÔºåËê•Êî∂${revenueChange > 0 ? 'Â¢ûÈïø' : '‰∏ãÈôç'}${Math.abs(revenueChange)}%`;\r\n    }\r\n    \r\n    if (currentData.Ê¨°ÊúàÁïôÂ≠ò >= 40) {\r\n      trends += `ËâØÂ•ΩÔºåÁïôÂ≠òÁéá${currentData.Ê¨°ÊúàÁïôÂ≠ò}%Ôºå‰ΩøÁî®Áéá${currentData.‰ΩøÁî®Áéá}%`;\r\n    } else {\r\n      trends += `ÈúÄÂÖ≥Ê≥®ÔºåÁïôÂ≠òÁéá${currentData.Ê¨°ÊúàÁïôÂ≠ò}%ÂÅè‰Ωé`;\r\n    }\r\n    \r\n    suggestions = [\r\n      'Âä†Âº∫Áî®Êà∑Ê¥ªË∑ÉÂ∫¶ËøêËê•',\r\n      '‰ºòÂåñ‰∫ßÂìÅÂäüËÉΩ‰ΩìÈ™å', \r\n      'ÊèêÂçá‰ªòË¥πËΩ¨ÂåñÊïàÁéá'\r\n    ];\r\n\r\n    return { keyChanges, trends, suggestions };\r\n  };\r\n\r\n  if (!currentData) return null;\r\n\r\n  return (\r\n    <div className=\"ai-analysis\">\r\n      <div className=\"card\">\r\n        <h2 className=\"ai-header\">AI Êï∞ÊçÆÂàÜÊûê</h2>\r\n        \r\n        <div className=\"analysis-content\">\r\n          {loading && (\r\n            <div className=\"analysis-loading\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>AIÊ≠£Âú®ÂàÜÊûêÊï∞ÊçÆ...</p>\r\n            </div>\r\n          )}\r\n          \r\n          {error && (\r\n            <div className=\"analysis-error\">\r\n              <p>{error}</p>\r\n            </div>\r\n          )}\r\n          \r\n          {analysis && !loading && (\r\n            <div className=\"analysis-grid\">\r\n              <div className=\"analysis-section\">\r\n                <div className=\"analysis-section-header\">\r\n                  <div className=\"analysis-section-icon\"></div>\r\n                  <h3 className=\"analysis-section-title\">Ê†∏ÂøÉË°®Áé∞</h3>\r\n                </div>\r\n                <div className=\"analysis-section-content\">\r\n                  <div>Ê¥ªË∑ÉÁî®Êà∑</div>\r\n                  <div style={{fontSize: '20px', fontWeight: '600', color: '#FF6B35', margin: '4px 0'}}>\r\n                    {currentData.ÊúàÊ¥ª.toLocaleString()}\r\n                  </div>\r\n                  <div>Ëê•Êî∂</div>\r\n                  <div style={{fontSize: '20px', fontWeight: '600', color: '#FF6B35', margin: '4px 0'}}>\r\n                    {(currentData.Ëê•Êî∂ / 10000).toFixed(1)}‰∏á\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"analysis-section\">\r\n                <div className=\"analysis-section-header\">\r\n                  <div className=\"analysis-section-icon\"></div>\r\n                  <h3 className=\"analysis-section-title\">ÂÖ≥ÈîÆÂèòÂåñ</h3>\r\n                </div>\r\n                <div className=\"analysis-section-content\">\r\n                  {analysis.keyChanges || 'ÊöÇÊó†Êï∞ÊçÆ'}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"analysis-section\">\r\n                <div className=\"analysis-section-header\">\r\n                  <div className=\"analysis-section-icon\"></div>\r\n                  <h3 className=\"analysis-section-title\">Á≠ñÁï•Âª∫ËÆÆ</h3>\r\n                </div>\r\n                <div className=\"analysis-section-content\">\r\n                  {Array.isArray(analysis.suggestions) ? (\r\n                    <ul>\r\n                      {analysis.suggestions.map((suggestion, index) => (\r\n                        <li key={index}>{suggestion}</li>\r\n                      ))}\r\n                    </ul>\r\n                  ) : (\r\n                    <div>{analysis.suggestions || 'ÊöÇÊó†Âª∫ËÆÆ'}</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"analysis-footer\">\r\n          <div className=\"footer-buttons\">\r\n            <button \r\n              onClick={testAPI} \r\n              disabled={loading}\r\n              className=\"test-btn\"\r\n            >\r\n              {loading ? 'ÊµãËØï‰∏≠...' : 'üß™ ÊµãËØïAPI'}\r\n            </button>\r\n            <button \r\n              onClick={generateAnalysis} \r\n              disabled={loading}\r\n              className=\"refresh-btn\"\r\n            >\r\n              {loading ? 'ÂàÜÊûê‰∏≠...' : 'ü§ñ AIÂàÜÊûê'}\r\n            </button>\r\n          </div>\r\n          <span className=\"analysis-note\">\r\n            Áî± DeepSeek AI Êèê‰æõÂàÜÊûêÊîØÊåÅ\r\n          </span>\r\n        </div>\r\n        \r\n        {testResult && (\r\n          <div className={`test-result ${testResult.success ? 'success' : 'error'}`}>\r\n            <h4>{testResult.success ? '‚úÖ ÊµãËØïÊàêÂäü' : '‚ùå ÊµãËØïÂ§±Ë¥•'}</h4>\r\n            <p>{testResult.message}</p>\r\n            {testResult.data && (\r\n              <pre>{JSON.stringify(testResult.data, null, 2)}</pre>\r\n            )}\r\n            {testResult.rawResponse && (\r\n              <details>\r\n                <summary>Êü•ÁúãÂéüÂßãÂìçÂ∫î</summary>\r\n                <pre>{testResult.rawResponse}</pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIAnalysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}