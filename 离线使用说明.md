# 离线使用数据看板（无需HTTP服务器）

## 方案说明

由于您的环境无法访问localhost，我们提供了**完全离线**的解决方案：
- ✅ 无需HTTP服务器
- ✅ 直接双击打开HTML文件
- ✅ 支持数据更新
- ✅ 所有看板统一集成

## 工作原理

1. CSV文件 → Python脚本转换 → JavaScript数据文件
2. HTML页面直接加载JavaScript数据
3. 无需网络，无需服务器

---

## 首次使用

### 步骤1：转换数据
双击运行：**更新数据.bat**

脚本会自动：
- 扫描所有CSV文件
- 转换为JavaScript格式
- 生成data.js文件

### 步骤2：打开看板
双击打开：**index.html**

现在可以正常使用所有功能！

---

## 更新数据

当您需要更新数据时：

### 方法1：使用脚本（推荐）
1. 替换CSV文件（保持文件名不变）
2. 双击运行：**更新数据.bat**
3. 刷新浏览器页面（F5）

### 方法2：手动转换
```bash
# 转换搜索数据
python convert_csv_to_js.py "搜索数据看板（周度）"

# 转换核心数据
python convert_csv_to_js.py "核心数据看板（周度）"

# 转换渗透率数据
python convert_csv_to_js.py "各模块渗透率看板（月度）"
```

---

## 文件说明

### 数据文件
- `搜索数据看板（周度）/data.js` - 搜索数据
- `核心数据看板（周度）/data.js` - 核心数据
- `各模块渗透率看板（月度）/data.js` - 渗透率数据

### 工具文件
- `更新数据.bat` - 一键更新所有数据
- `convert_csv_to_js.py` - Python转换脚本

---

## 优势对比

| 特性 | HTTP服务器方案 | 离线方案 |
|-----|--------------|---------|
| 需要服务器 | ✅ 需要 | ❌ 不需要 |
| 需要Python | ✅ 需要 | ⚠️ 仅更新时需要 |
| 直接打开 | ❌ 不可以 | ✅ 可以 |
| 数据更新 | 替换CSV即可 | 需要运行脚本 |
| 网络要求 | localhost | 无 |
| 适用场景 | 开发环境 | 生产环境 |

---

## 常见问题

### Q1: 更新数据后看不到变化？
**解决：**
- 按Ctrl+F5强制刷新浏览器
- 清除浏览器缓存

### Q2: 转换脚本报错？
**解决：**
- 检查CSV文件编码是否为UTF-8
- 检查CSV文件格式是否正确
- 查看具体错误信息

### Q3: 没有安装Python怎么办？
**解决：**
- 安装Python: https://www.python.org/downloads/
- 或请其他人帮忙转换数据
- 或使用在线CSV转JSON工具手动转换

### Q4: 可以在其他电脑上使用吗？
**解决：**
- 可以！只需复制整个文件夹
- 无需任何配置
- 直接打开index.html即可

---

## 数据更新工作流

```
1. 准备新的CSV数据
   ↓
2. 替换对应目录下的CSV文件
   ↓
3. 运行 更新数据.bat
   ↓
4. 刷新浏览器页面
   ↓
5. 查看更新后的数据
```

---

## 技术细节

### CSV文件要求
- 编码：UTF-8（带或不带BOM都可以）
- 格式：标准CSV格式
- 第一行：列名（表头）
- 后续行：数据行

### 生成的data.js格式
```javascript
const dashboardData = {
  "第1周搜索词": [
    {"keywords": "期末", "pv": "3667", "uv": "320"},
    ...
  ],
  "搜索行为漏斗": [
    ...
  ]
};
```

---

## 部署到其他环境

### 部署到内网服务器
1. 转换所有数据
2. 复制整个文件夹到服务器
3. 配置Web服务器指向index.html

### 部署到U盘
1. 转换所有数据
2. 复制整个文件夹到U盘
3. 在任何电脑上打开index.html

### 发送给其他人
1. 转换所有数据
2. 打包整个文件夹为ZIP
3. 解压后直接使用

---

## 下一步

现在请：
1. 运行 **更新数据.bat**
2. 打开 **index.html**
3. 测试所有功能

如果遇到问题，请查看脚本输出的错误信息。

---

**最后更新**: 2026-02-27
